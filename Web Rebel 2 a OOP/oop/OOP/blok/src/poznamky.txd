1 zalozime folder blog
2 class DB  s funkciou construct + pripojenie do Databazy a predpripraviť funkciu query 
3 class blog a construct ale ešte pred tym v ndexe pridame require a new conect do DB a novy blog $blog = new Blog($db), a di logu pripiseme (DB , $db) DB bude ako typ class

 //----------------------------------------------------------------------------------------------------------------------------------------------    

4
     public function getPost($id)
     {
         return $this->db->query("SELECT * FROM posts WHERE id = :id", [ 'id => $id']);  // volame query z db class 
     }

 //----------------------------------------------------------------------------------------------------------------------------------------------    

5    
    public function query($query, $data = [])
    {
        $this->statement = $this->db->prepare($query); // pridáme aj hore protected ak by bolo treba aj inde 
        $this->statement ->execute( $data);

        return $this->statement->fetchALL( PDO::FETCH_OBJ ); // všetky vysledky sa vratia ako objekt
    }


 //----------------------------------------------------------------------------------------------------------------------------------------------    
 
 6
 
 v indexe si možeme nechať vypisať 
 var_dump(
    $blog->getPost(1)
);
 
 
 
 //----------------------------------------------------------------------------------------------------------------------------------------------    
 7
      public function getPosts($id)
     {
         return $this->db->query("SELECT * FROM posts ");  // volame query z db class 
     }

      var_dump(
    $blog->getPosts()
);
 
 
 //----------------------------------------------------------------------------------------------------------------------------------------------    

 //----------------------------------------------------------------------------------------------------------------------------------------------    
 8
    public function getAll($query, $data = [])
    {
        return $this->query($query, $data)->fetchAll( PDO::FETCH_OBJ );
    }
    
    public function getOne($query, $data = [])
    {
        
        return $this->query($query, $data)->fetch( PDO::FETCH_OBJ );
    }



 
 //----------------------------------------------------------------------------------------------------------------------------------------------    
 

 //----------------------------------------------------------------------------------------------------------------------------------------------    
 9
 
  z fun query

  return $this->statement->fetchALL( PDO::FETCH_OBJ );
  na  return $this->statement;


 


 
 //----------------------------------------------------------------------------------------------------------------------------------------------    

 //----------------------------------------------------------------------------------------------------------------------------------------------    
 10

 //getAll
 //getOne
 
 


 
 //----------------------------------------------------------------------------------------------------------------------------------------------    

 //----------------------------------------------------------------------------------------------------------------------------------------------    
 11

 protected $fetchType = PDO::FETCH_OBJ;
 
 


 
 //----------------------------------------------------------------------------------------------------------------------------------------------    

 //----------------------------------------------------------------------------------------------------------------------------------------------    
 12

     public function setFetchType($fetchType)
    {
        $this->fetchType = $fetchType;
    }
 
 


 
 //----------------------------------------------------------------------------------------------------------------------------------------------    

 //----------------------------------------------------------------------------------------------------------------------------------------------    
 13

     public function getAll($query, $data = [])
    {                                                       //13
        return $this->query($query, $data)->fetchAll( $this->fetchType );
    }
    
    public function getOne($query, $data = [])
    {
                                                        //13
        return $this->query($query, $data)->fetch( $this->fetchType );
    }

 
 //----------------------------------------------------------------------------------------------------------------------------------------------    

 //----------------------------------------------------------------------------------------------------------------------------------------------    
 14

 $db->setFetchType( PDO::FETCH_ASSOC ); //14 možeme zmeniť na ine pole 
 
 
 //----------------------------------------------------------------------------------------------------------------------------------------------    

 //----------------------------------------------------------------------------------------------------------------------------------------------    
 7
 
 


 
 //----------------------------------------------------------------------------------------------------------------------------------------------    

 //----------------------------------------------------------------------------------------------------------------------------------------------    
 7
 
 


 
 //----------------------------------------------------------------------------------------------------------------------------------------------    

 //----------------------------------------------------------------------------------------------------------------------------------------------    
 7
 
 


 
 //----------------------------------------------------------------------------------------------------------------------------------------------    

 //----------------------------------------------------------------------------------------------------------------------------------------------    
 7
 
 


 
 //----------------------------------------------------------------------------------------------------------------------------------------------    

 //----------------------------------------------------------------------------------------------------------------------------------------------    
 7
 
 


 
 //----------------------------------------------------------------------------------------------------------------------------------------------    

 //----------------------------------------------------------------------------------------------------------------------------------------------    
 7
 
 


 
 //----------------------------------------------------------------------------------------------------------------------------------------------    

 //----------------------------------------------------------------------------------------------------------------------------------------------    
 7
 
 


 
 //----------------------------------------------------------------------------------------------------------------------------------------------    

 //----------------------------------------------------------------------------------------------------------------------------------------------    
 7
 
 


 
 //----------------------------------------------------------------------------------------------------------------------------------------------    
